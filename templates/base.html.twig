<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Bolonews{% endblock %}</title>

    <link rel="stylesheet" href="{{ asset('css/styles.css') }}">
    {% block stylesheets %}{% endblock %}
</head>
<body>

    {% block header %}
        {% set current_route = app.request.attributes.get('_route') %}

        <header>
            <nav class="navbar">
                <div class="logo">
                    <a href="{{ path('app_accueil') }}">ðŸ“° Bolonews</a>
                </div>

                <ul class="nav-links">
                    <li><a href="{{ path('app_accueil') }}">Home</a></li>
                    <li><a href="{{ path('app_article') }}">Articles</a></li>
                </ul>

                <ul class="auth-links">
                    {% if app.user %}
                        <li><span>ðŸ‘¤ {{ app.user.pseudo }}</span></li>
                        <li><a href="{{ path('app_accueil') }}">Accueil</a></li>
                        <li><a href="{{ path('app_article') }}">Se dÃ©connecter</a></li>
                        <li><a href="{{ path('app_article2') }}">Article 2</a></li>
                        <li><a href="{{ path('app_logout') }}">se decoonecter</a></li>
                    {% elseif current_route in ['app_accueil', 'app_article'] %}
                        <li><a href="{{ path('app_login') }}">Se connecter</a></li>
                        <li><a href="{{ path('app_register') }}">Mâ€™inscrire</a></li>
                    {% endif %}
                </ul>
            </nav>
        </header>
    {% endblock %}

    <main>
        {# âœ… Affichage du message flash si prÃ©sent #}
        {% for message in app.flashes('success') %}
            <div class="alert alert-success" style="padding: 10px; margin: 1em auto; max-width: 800px; background: #d4edda; color: #155724; border-radius: 5px;">
                {{ message }}
            </div>
        {% endfor %}

        {% block body %}{% endblock %}
    </main>

    {% block javascripts %}{% endblock %}
</body>
</html>
